<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="http://alperderman.com/" />
    <title>DCG | Documentation</title>
  </head>
  <body>
    
    <div dcg-obj="header" dcg-json>
      {
        "title": "Dynamic Content Generation",
        "sub": "documentation",
        "btn": {
          "github": "https://github.com/alperderman/dcg",
          "sandbox": "{{$host}}{{$path}}/sandbox"
        }
      }
    </div>
    <div dcg-obj="content" dcg-json>
      {
        "introduction": {"title": "Introduction"},
        "start": {"title": "Getting Started"},
        "presets": {"title": "Preset Options"},
        "dynamic": {"title": "Dynamic Contents"},
        "keywords": {"title": "Token Keywords"},
        "roots": {"title": "Root Tokens"},
        "escapetokens": {"title": "Escaping Tokens"},
        "escapeelements": {"title": "Escaping Elements"},
        "templates": {"title": "Templates"},
        "external": {"title": "External Contents"},
        "eval": {"title": "Eval Expressions"},
        "conditional": {"title": "Conditional Rendering"},
        "screen": {"title": "Screen Block"},
        "support": {"title": "Browser Support"}
      }
    </div>
    <div dcg-obj="content.introduction.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>DCG is a front-end templating framework that aims for content management.</p>
        <p>DCG is vastly different from other templating frameworks. The main difference is, contents and layouts are splitted from each other on DCG and most of the features and objects are defined with simple HTML elements. In addition to that, DCG works like a preprocessing intrepreter, so you can use it with other frameworks but the formation and the structure of your projects, must be coherent with DCG.</p>
        <p>DCG basically stitches the content and the layout together then generates and renders the final result. Since the contents and designs are completely seperate entities, it allows us to re-use the same contents or same designs on a different page thus reduces the code duplication, but as a trade-off it increases the page load time because of the extra XHR calls.</p>
        <p>DCG is specifically tailored for content management, maintainability and ease of usage. But in order to achieve these goals, it changes the structure of your web project and these changes effect the overall performance considerably (especially since the processing is done on the client-side). So if performance is your top priority then I can recommend you other templating frameworks such as <a href="https://handlebarsjs.com/">Handlebars.js</a> and <a href="https://mustache.github.io/">Moustache.js</a>.</p>
      </section>
    </div>
    <div dcg-obj="content.start.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>In order to use DCG, just download it from <a target="_blank" href="https://raw.githubusercontent.com/alperderman/dcg/main/dist/dcg.js">Github</a> and create two HTML files, one for the contents and one for the design like in the below.</p>
        <p>And run it on your local web server.</p>
        <p>If you want to test the DCG without downloading anything, you can check out the <a href="{{header.btn.sandbox}}">Sandbox</a>.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html (the main page)</h3>
            <pre><code class="language-html">
              &lt;body>

                &lt;div dcg-obj="hello">Hello World!&lt;/div>

                &lt;script src="path/to/dcg.js">&lt;/script>
                &lt;script>
                  dcg.render({
                    designSrc: "path/to/design.html"
                  });
                &lt;/script>
              &lt;/body>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;body>
                &lt;h1>{{##hello}}&lt;/h1>
              &lt;/body>
            </code></pre>
          </div>
        </div>
        <p><code>designSrc</code> indicates the path of the <code>design.html</code>.</p>
      </section>
    </div>
    <div dcg-obj="content.presets.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Preset options are preferences that will be used while rendering.</p>
        <table>
          <thead>
            <tr>
              <th>Option Definition</th>
              <th>Description</th>
              <th>Default Value</th>
              <th>Type</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><b>removeStyles</b></td><td>For removing the styles of the content page, if set to <code>true</code> styles will not be carried over rendered page</td><td>false</td><td>Boolean</td></tr>
            <tr><td><b>cacheRender</b></td><td>For caching the render, changing it <code>true</code> is highly recommended for production</td><td>false</td><td>Boolean</td></tr>
            <tr><td><b>showLogs</b></td><td>For showing the render logs</td><td>false</td><td>Boolean</td></tr>
            <tr><td><b>screenBlock</b></td><td>For blocking the screen during the render</td><td>false</td><td>Boolean</td></tr>
          </tbody>
        </table>
        <p>Preset options are stored in <code>dcg.profile</code> object. You can use the <code>dcg.config()</code> function or the 'options' object inside the render function for changing the options and <code>dcg.reset()</code> function for resetting to their default value. (If you use options object inside the render function, options are automatically resetted to their default value after the render)</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;script src="path/to/dcg.js">&lt;/script>
              &lt;script>
                dcg.config({
                  showLogs: true,
                  cacheRender: false
                });
                dcg.render({
                  designSrc: "path/to/design.html"
                });
                dcg.reset();

                // OR

                dcg.render({
                  designSrc: "path/to/design.html",
                  options: {
                    showLogs: true,
                    cacheRender: false
                  }
                });
              &lt;/script>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.dynamic.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Dynamic contents are nestable objects that can be used as tokens (one-way variables). Dynamic contents are seperated into 3 categories; JSON, HTML and raw text.</p>
        <p>You can use other tokens inside HTML tokens.</p>
        <p>Also since JSON tokens are basically objects, you can nest them with other tokens.</p>
        <p>In order to use tokens you have to make a definition on the <b>content.html</b> like in the below.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;body>

                &lt;div dcg-obj="fruits" dcg-json>
                  ["Apple", "Grapes"]
                &lt;/div>

                &lt;div dcg-obj="fruits.2">Strawberry&lt;/div>

                &lt;div dcg-obj="names" dcg-json>
                  ["Dave", "Jeffrey", "Marcus"]
                &lt;/div>

                &lt;div dcg-obj="names.description" dcg-html>
                  &lt;p>Our team; {{##names.0}}, {{##names.1}}, {{##names.2}}&lt;/p>
                &lt;/div>

                &lt;div dcg-obj="names.raw">
                  This is a raw text it will not processed like the other tokens on the above!
                &lt;/div>

                &lt;script src="path/to/dcg.js">&lt;/script>
                &lt;script>
                  dcg.render({
                    designSrc: "path/to/design.html"
                  });
                &lt;/script>
              &lt;/body>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;body>
                &lt;h3>{{##fruits.0}}&lt;/h3>
                &lt;h3>{{##fruits.1}}&lt;/h3>
                &lt;h3>{{##fruits.2}}&lt;/h3>
                &lt;hr>
                &lt;h3>{{##names.0}}&lt;/h3>
                &lt;h3>{{##names.1}}&lt;/h3>
                &lt;h3>{{##names.2}}&lt;/h3>
                &lt;hr>
                {{##names.description}}
              &lt;/body>
            </code></pre>
          </div>
        </div>
        <p>And for iterating a certain object or array you can define <code>dcg-repeat</code> attribute on <b>design.html</b>.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div dcg-obj="names" dcg-json>
                ["Dave", "Jeffrey", "Marcus"]
              &lt;/div>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;dcg dcg-repeat="names as customer">
                &lt;h3>{{##customer}}&lt;/h3>
              &lt;/dcg>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.keywords.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Token keywords are used for returning object properties of the specified token.</p>
        <table>
          <tr><td>_this</td><td>Returns the object itself (especially useful when used inside a template)</td></tr>
          <tr><td>_key</td><td>Returns the key of the object</td></tr>
          <tr><td>_index</td><td>Returns the index of the array or object (used inside the iterations)</td></tr>
          <tr><td>_length</td><td>Returns the total length of the object, array or string</td></tr>
        </table>
        <p>Here is an example with outputs.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div dcg-obj="book" dcg-json>
                {
                  "name":"The Name of the Wind",
                  "author":"Patrick Rothfuss",
                  "genre":"Fantasy"
                }
              &lt;/div>

              &lt;div dcg-obj="actors" dcg-json>
                [
                  {"name":"Robert", "surname":"De Niro"},
                  {"name":"Christopher", "surname":"Walken"},
                  {"name":"Jack", "surname":"Nicholson"}
                ]
              &lt;/div>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              {{##book._length}} // Returns 3
              {{##book._this}} // Returns {"name":"The Name of the Wind", "author":"Patrick Rothfuss", "genre": "Fantasy"}
              {{##book.author._key}} // Returns author

              &lt;dcg dcg-repeat="actors as actor">
                {{##actor._index}} // Returns 0 to 2 index values
              &lt;/dcg>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.roots.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Root tokens are special kind of tokens that for returning premade values. Root tokens have both the highest priority and the lowest priority among other tokens. Reason for that is they are rendered couple of times during the rendering process, so you can use them anywhere you like, even inside the external contents or templates.</p>
        <table>
          <tr><td>$host</td><td>Returns the host name with protocol: <b>"http://example.com"</b></td></tr>
          <tr><td>$path</td><td>Returns the full directory path of the current file: <b>"/folder/pics"</b></td></tr>
          <tr><td>$file</td><td>Returns the current file name with extension: <b>"index.html"</b></td></tr>
          <tr><td>$query</td><td>Returns the query string: <b>"?page=12&top=all"</b></td></tr>
          <tr><td>$hash</td><td>Returns the hash: <b>"#id"</b></td></tr>
        </table>
      </section>
    </div>
    <div dcg-obj="content.escapetokens.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>In order to escape tokens and eval expressions, add '##' right after the opening delimeter like in the below.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;h3>Welcome, {{####customer}}!&lt;/h3>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.escapeelements.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Escape prefix is used for bypassing invalid HTML errors by escaping tags and attributes.</p>
        <p>Browsers, processes and changes couple of special tags and attributes, for example inline <code>style</code> attribute and <code>table</code>, <code>tr</code>, <code>td</code> tags. When you use tokens inside for instance <code>style</code> attribute, since the browsers sees the unprocessed token with its delimeters, it will assume this is a wrong definition and deletes the whole definition with the token.</p>
        <p>But with the escape prefix, browsers will assume this is not an element that should be processed and skips it. After the render, we replace the escaped elements to their original state and elements will be processed automatically by the browsers.</p>
        <p>In order to escape an element you can define <code>dcg:</code> in front of the tag or the attribute.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;dcg:table dcg:style="color:{{##color}}">
                &lt;dcg:tr>
                  &lt;dcg:td>This is an escaped table&lt;/dcg:td>
                &lt;/dcg:tr>
              &lt;/dcg:table>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.templates.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Templates are used for minimizing code duplication and for making pages more dynamic. They can take input data either by raw JSON or by indicating a token object, templates are defined on <code>design.html</code>.</p>
        <p>In order to use templates, first you have to reference it with <code>dcg-tref</code> attribute, after that you can render them with <code>dcg-tren</code> attribute. You can also use <code>dcg-data</code> to pass an object to be used as tokens inside the template.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div dcg-obj="actors" dcg-json>
                [
                  {"name":"Robert", "surname":"De Niro"},
                  {"name":"Christopher", "surname":"Walken"},
                  {"name":"Jack", "surname":"Nicholson"}
                ]
              &lt;/div>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;dcg dcg-temp="temp" dcg-tref>
                &lt;dcg:table>

                  &lt;dcg dcg-repeat="_this as actor">

                    &lt;dcg:tr>
                      &lt;dcg:td>{{##name}}&lt;/dcg:td>
                      &lt;dcg:td>{{##surname}}&lt;/dcg:td>
                    &lt;/dcg:tr>
                    
                  &lt;/dcg>

                &lt;/dcg:table>
              &lt;/dcg>

              &lt;dcg dcg-temp="temp" dcg-data="actors" dcg-tren>&lt;/dcg>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.external.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>External contents are self-explanatory, with the <code>dcg-src</code> attribute you can fetch contents, API's or templates from other pages or sites. It can be used on both <b>content.html</b> and <b>design.html</b>.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div dcg-obj="exchange" dcg-json>
                &lt;div dcg-src="https://api.exchangerate.host/latest">&lt;/div>
              &lt;/div>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;div>Euro to US Dollar: {{##exchange.rates.USD}}&lt;/div>
            </code></pre>
          </div>
        </div>
        <p>An example with external template.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;dcg dcg-temp="temp" dcg-tref>
                &lt;dcg dcg-src="path/to/template.html">&lt;/dcg>
              &lt;/dcg>

              &lt;dcg dcg-temp="temp" dcg-tren>&lt;/dcg>
            </code></pre>
          </div>
        </div>
      </section>
    </div>
    <div dcg-obj="content.eval.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Eval expressions are used for post processing the tokens using the native <code>eval</code> function.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div dcg-obj="numbers" dcg-json>
                {
                  "n1":"65",
                  "n2":"43"
                }
              &lt;/div>
            </code></pre>
          </div>
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;p>
                Sum: {%## {{##numbers.n1}} + {{##numbers.n2}} %}
                // Returns 108
              &lt;/p>
            </code></pre>
          </div>
        </div>
        <p>You can also define multi-line eval expressions. Multi-line expressions allows us to use JavaScript in its full extend however you have to define a return value.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;p>
                Sum: {!%##
                    var result = {{##numbers.n1}} + {{##numbers.n2}};
                    return result;
                  %!}
                // Returns 108
              &lt;/p>
            </code></pre>
          </div>
        </div>
        <p><b>Warning:</b> Be careful while using eval expressions. Eval expressions are basically an encapsulated function in a string form and they are not sanitized in anyway, if you write an unsanitized user inputted data inside the eval expressions, it can be compromised so use only the tokens and data that you are absolutely sure that is safe to run on client-side.</p>
      </section>
    </div>
    <div dcg-obj="content.conditional.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p><code>dcg-if</code> attribute is used for conditional rendering. Conditional rendering allows us to do complicated renders based on conditions.</p>
        <p>You can use tokens inside the conditions but don't forget to add quotes around the tokens if you are making a string comparison.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">design.html</h3>
            <pre><code class="language-html">
              &lt;dcg dcg-repeat="students as student">
                &lt;dcg dcg-if="{{##student.grade}} >= 50">
                  &lt;span style="color:green;">PASS&lt;/span>
                &lt;/dcg>
                &lt;dcg dcg-if="{{##student.grade}} &lt; 50">
                  &lt;span style="color:red;">FAIL&lt;/span>
                &lt;/dcg>
              &lt;/dcg>
            </code></pre>
          </div>
        </div>
        <p><b>Warning:</b> Same as eval expressions, conditional rendering uses the native <code>eval</code> function. So use only the tokens and data that you are absolutely sure that is safe to run on client-side.</p>
      </section>
    </div>
    <div dcg-obj="content.screen.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>During the render unmodified content elements are the first thing users see and it may look bad even if its only for just a split second. In order to prevent that and show a loading screen, we can use <code>screenBlock</code> preset option.</p>
        <p>Default screen block is just a white screen and it is dynamically loaded. If you want a custom screen block, you can define it with <code>dcg-screen</code> attribute like in the below.</p>
        <div class="row lg:gutter-2 mb-6">
          <div class="column col-12 lg:col-6">
            <h3 class="mt-0">content.html</h3>
            <pre><code class="language-html">
              &lt;div class="loading-screen" dcg-screen>Custom Loading...&lt;/div>

              &lt;script>
                dcg.render({
                  designSrc: "path/to/design.html",
                  options: {
                    screenBlock: true
                  }
                });
              &lt;/script>
            </code></pre>
          </div>
        </div>
        <p><b>Note:</b> If you use default screen block, you may still see the unmodified content for couple of miliseconds. Thats because it is defined dynamically with JavaScript and since scripts are executed after all of the document is loaded, it takes a small but noticible amount of time to screen block to takes effect. Thats just how browsers work, so manually defining custom screen blocks are the best way to be sure especially if you are a perfectionist.</p>
      </section>
    </div>
    <div dcg-obj="content.support.desc" dcg-html>
      <section id="{{_this._key}}">
        <h1>{{_this.title}}</h1>
        <p>Tested on IE 11, latest Chrome, Firefox and Safari.</p>
      </section>
    </div>

    <script src="assets/js/dcg.js"></script>
    <script>
      dcg.render({
        designSrc: "layouts/project/dcg/docs.html",
        options: {
          removeCss: true,
          cacheRender: true
        }
      });
    </script>
  </body>
</html>